import{_ as b,a as v,c as n,d,b as t,F as r,f,r as u,o as i,t as k,w as I,e as L}from"./index-77d831c0.js";const{VITE_URL:_,VITE_API:h}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API:"sakimotorin-vue2022",BASE_URL:"/vue3-2022-week6/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{isLoading:!1,loadingItem:"",products:[]}},components:{RouterLink:v},methods:{getProduct(){this.isLoading=!0,this.$http.get(`${_}/api/${h}/products/all`).then(e=>{this.products=e.data.products,this.isLoading=!1}).catch(e=>{alert(e.message),this.isLoading=!1})},addToCart(e,l=1){this.loadingItem=e;const c={product_id:e,qty:l};this.$http.post(`${_}/api/${h}/cart`,{data:c}).then(o=>{this.loadingItem="",alert(o.data.message)}).catch(o=>{alert(o)})}},mounted(){this.getProduct()}},V=t("div",{class:"text-center"},[t("h2",{class:"mb-5 text-danger"},"產品頁面")],-1),E=t("hr",null,null,-1),$={class:"table-responsive"},T={class:"table"},w={width:"250"},C=["src"],P={class:"btn-group btn-group-sm",role:"group","aria-label":"Basic example"},y=["onClick","disabled"];function B(e,l,c,o,a,p){const g=u("vue-loading"),m=u("router-link");return i(),n(r,null,[d(g,{active:a.isLoading},null,8,["active"]),V,E,t("div",$,[t("table",T,[t("tbody",null,[(i(!0),n(r,null,f(a.products,s=>(i(),n("tr",{key:s.id},[t("td",w,k(s.title),1),t("td",null,[t("img",{src:s.imageUrl,width:"200",alt:""},null,8,C)]),t("td",null,[t("div",P,[d(m,{to:`/product/${s.id}`,class:"btn btn-outline-secondary"},{default:I(()=>[L(" 詳細資料 ")]),_:2},1032,["to"]),t("button",{onClick:R=>p.addToCart(s.id),type:"button",class:"btn btn-outline-success",disabled:a.loadingItem===s.id}," 加入購物車 ",8,y)])])]))),128))])])])],64)}const U=b(x,[["render",B]]);export{U as default};
